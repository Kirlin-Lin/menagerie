{"version":3,"sources":["webpack:///./src/pages/Main/Category.vue?3062","webpack:///src/pages/Main/Category.vue","webpack:///./src/pages/Main/Category.vue?8224","webpack:///./src/pages/Main/Category.vue","webpack:///./src/pages/Main/Category.vue?664d"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","attrs","on","clickAdd","staticStyle","tableData","indexMethod","scopedSlots","_u","key","fn","scope","directives","name","rawName","value","row","isedit","expression","_s","cateName","model","callback","$$v","$set","$event","handleEdit","clickDel","id","totals","currentPage","handleSizeChange","handleCurrentChange","dialogFormVisible","form","formLabelWidth","slot","clickSuer","staticRenderFns","inject","created","getgoodslist","data","sizes","delivery","methods","val","index","$confirm","confirmButtonText","cancelButtonText","type","component"],"mappings":"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","file":"js/chunk-5cb91910.0d05e674.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-card',{staticClass:\"box-card\"},[_c('p',[_c('span',[_vm._v(\"商品分类\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.clickAdd}},[_vm._v(\"添加分类\")])],1),_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableData,\"height\":\"400\"}},[_c('el-table-column',{attrs:{\"type\":\"index\",\"index\":_vm.indexMethod}}),_c('el-table-column',{attrs:{\"prop\":\"cateName\",\"label\":\"分类名称\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(!scope.row.isedit),expression:\"!scope.row.isedit\"}]},[_vm._v(_vm._s(scope.row.cateName))]),_c('el-input',{directives:[{name:\"show\",rawName:\"v-show\",value:(scope.row.isedit),expression:\"scope.row.isedit\"}],model:{value:(scope.row.cateName),callback:function ($$v) {_vm.$set(scope.row, \"cateName\", $$v)},expression:\"scope.row.cateName\"}})]}}])}),_c('el-table-column',{attrs:{\"label\":\"是否启用\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-switch',{attrs:{\"disabled\":!scope.row.isedit},model:{value:(scope.row.state),callback:function ($$v) {_vm.$set(scope.row, \"state\", $$v)},expression:\"scope.row.state\"}})]}}])}),_c('el-table-column',{attrs:{\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"size\":\"small\"},on:{\"click\":function($event){return _vm.handleEdit(scope.row)}}},[_vm._v(_vm._s(scope.row.isedit?'完成':'编辑'))]),_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"danger\"},on:{\"click\":function($event){return _vm.clickDel(scope.row.id)}}},[_vm._v(\"删除\")])]}}])})],1),_c('el-pagination',{attrs:{\"layout\":\"total,sizes, prev, pager, next, jumper\",\"total\":_vm.totals,\"current-page\":_vm.currentPage,\"page-sizes\":[4, 8,16 , 24]},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}}),_c('el-dialog',{attrs:{\"title\":\"添加分类\",\"visible\":_vm.dialogFormVisible},on:{\"update:visible\":function($event){_vm.dialogFormVisible=$event}}},[_c('el-form',{attrs:{\"model\":_vm.form}},[_c('el-form-item',{attrs:{\"label\":\"分类名称\",\"label-width\":_vm.formLabelWidth}},[_c('el-input',{attrs:{\"autocomplete\":\"off\"},model:{value:(_vm.form.cateName),callback:function ($$v) {_vm.$set(_vm.form, \"cateName\", $$v)},expression:\"form.cateName\"}})],1),_c('el-form-item',{attrs:{\"label\":\"是否启用\",\"label-width\":_vm.formLabelWidth}},[_c('el-switch',{model:{value:(_vm.form.delivery),callback:function ($$v) {_vm.$set(_vm.form, \"delivery\", $$v)},expression:\"form.delivery\"}})],1)],1),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.dialogFormVisible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.clickSuer}},[_vm._v(\"确 定\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <el-card class=\"box-card\">\r\n    <p>\r\n      <span>商品分类</span>\r\n      <el-button type=\"primary\" @click=\"clickAdd\">添加分类</el-button>\r\n    </p>\r\n    <el-table :data=\"tableData\" style=\"width: 100%\" height=\"400\">\r\n      <el-table-column type=\"index\" :index=\"indexMethod\"></el-table-column>\r\n      <el-table-column prop=\"cateName\" label=\"分类名称\">\r\n        <template slot-scope=\"scope\">\r\n          <span v-show=\"!scope.row.isedit\">{{ scope.row.cateName }}</span>\r\n          <el-input v-show=\"scope.row.isedit\" v-model=\"scope.row.cateName\"></el-input>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"是否启用\">\r\n        <template slot-scope=\"scope\">\r\n          <el-switch :disabled=\"!scope.row.isedit\" v-model=\"scope.row.state\"></el-switch>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"操作\">\r\n        <template slot-scope=\"scope\">\r\n          <el-button size=\"small\" @click=\"handleEdit(scope.row)\">{{scope.row.isedit?'完成':'编辑'}}</el-button>\r\n          <el-button size=\"small\" type=\"danger\" @click=\"clickDel(scope.row.id)\">删除</el-button>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n    <el-pagination\r\n      @size-change=\"handleSizeChange\"\r\n      @current-change=\"handleCurrentChange\"\r\n      layout=\"total,sizes, prev, pager, next, jumper\"\r\n      :total=\"totals\"\r\n      :current-page=\"currentPage\"\r\n      :page-sizes=\"[4, 8,16 , 24]\"\r\n    ></el-pagination>\r\n\r\n    <el-dialog title=\"添加分类\" :visible.sync=\"dialogFormVisible\">\r\n      <el-form :model=\"form\">\r\n        <el-form-item label=\"分类名称\" :label-width=\"formLabelWidth\">\r\n          <el-input v-model=\"form.cateName\" autocomplete=\"off\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"是否启用\" :label-width=\"formLabelWidth\">\r\n          <el-switch v-model=\"form.delivery\"></el-switch>\r\n        </el-form-item>\r\n      </el-form>\r\n      <div slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"dialogFormVisible = false\">取 消</el-button>\r\n        <el-button type=\"primary\" @click=\"clickSuer\">确 定</el-button>\r\n      </div>\r\n    </el-dialog>\r\n  </el-card>\r\n</template>\r\n\r\n<script>\r\nimport { catelist, addcate, delcate, editcate } from \"@/api/apis\";\r\nexport default {\r\n  inject: [\"reload\"],\r\n  created() {\r\n    this.getgoodslist();\r\n  },\r\n  data() {\r\n    return {\r\n      tableData: [],\r\n      currentPage: 1,\r\n      totals: 0,\r\n      sizes: 4,\r\n      dialogFormVisible: false,\r\n      form: {\r\n        cateName: \"\",\r\n        delivery: false,\r\n      },\r\n      formLabelWidth: \"120px\",\r\n    };\r\n  },\r\n  methods: {\r\n    getgoodslist() {\r\n      catelist(this.currentPage, this.sizes).then((res) => {\r\n        let arr = res.data.data;\r\n        for (let obj of arr) {\r\n          obj.isedit = false;\r\n          obj.state=obj.state==1\r\n        }\r\n        this.tableData = arr;\r\n        this.totals = res.data.total;\r\n      });\r\n    },\r\n    handleCurrentChange(val) {\r\n      this.currentPage = val;\r\n      this.getgoodslist();\r\n    },\r\n    // 改变每页显示条数\r\n    handleSizeChange(val) {\r\n      this.sizes = val;\r\n      this.getgoodslist();\r\n    },\r\n    indexMethod(index) {\r\n      return index + 1;\r\n    },\r\n    clickAdd() {\r\n      this.dialogFormVisible = true;\r\n    },\r\n    clickSuer() {\r\n      addcate(this.form.cateName, JSON.stringify(this.form.delivery)).then(\r\n        (res) => {\r\n          if (res.data.code == 0) {\r\n            //成功\r\n            this.dialogFormVisible = false;\r\n            this.$message({\r\n              type: \"success\",\r\n              message: \"添加成功!\",\r\n            });\r\n            this.getgoodslist();\r\n          } else {\r\n            this.$message({ message: \"添加失败,请稍后重试\", type: \"error\" });\r\n          }\r\n        }\r\n      );\r\n    },\r\n    // 删除分类\r\n    clickDel(curId) {\r\n      this.$confirm(\"此操作将删除该分类, 是否继续?\", \"提示\", {\r\n        confirmButtonText: \"确定\",\r\n        cancelButtonText: \"取消\",\r\n        type: \"warning\",\r\n      })\r\n        .then(() => {\r\n          delcate(curId).then((res) => {\r\n            if (res.data.code == 0) {\r\n              //成功\r\n              this.getgoodslist();\r\n            } else\r\n              this.$message({\r\n                message: \"删除失败,请稍后重试\",\r\n                type: \"error\",\r\n              });\r\n          });\r\n          this.$message({\r\n            type: \"success\",\r\n            message: \"删除成功!\",\r\n          });\r\n        })\r\n        .catch(() => {\r\n          this.$message({\r\n            type: \"info\",\r\n            message: \"已取消删除\",\r\n          });\r\n        });\r\n    },\r\n    // 编辑\r\n    handleEdit(row) {\r\n      if (row.isedit) {\r\n        //编辑状态\r\n        editcate(row.id,row.cateName,row.state).then(\r\n          (res) => {\r\n            if (res.data.code == 0) {\r\n              this.$message({\r\n                type: \"success\",\r\n                message: res.data.msg,\r\n              });\r\n            } else\r\n              this.$message({ message: \"编辑失败,请稍后重试\", type: \"error\" });\r\n          }\r\n        );\r\n        row.isedit = false;\r\n\r\n      } else {\r\n        //不在编辑状态\r\n        row.isedit = true;\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\np {\r\n  display: flex;\r\n  justify-content: space-between;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Category.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Category.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Category.vue?vue&type=template&id=62b6c0a9&scoped=true&\"\nimport script from \"./Category.vue?vue&type=script&lang=js&\"\nexport * from \"./Category.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Category.vue?vue&type=style&index=0&id=62b6c0a9&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"62b6c0a9\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Category.vue?vue&type=style&index=0&id=62b6c0a9&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Category.vue?vue&type=style&index=0&id=62b6c0a9&lang=less&scoped=true&\""],"sourceRoot":""}